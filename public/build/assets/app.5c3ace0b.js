import{d as k,r as q,w as S,o as A,a,c as l,_ as C,b as M,e,f as w,t as p,g as m,F as f,h as v,i as V,j as y,k as d,v as D,l as b,m as J,p as j,n as P,q as T}from"./_plugin-vue_export-helper.51684773.js";function B(t){return window.MathJax&&window.MathJax.typesetPromise?(t&&!Array.isArray(t)&&(t=[t]),window.MathJax.typesetPromise(t)):Promise.reject()}const x=k({props:{latex:{default:""},block:{type:Boolean,default:!1}},setup(t){const n=t,u=q(null),h=()=>{if(!u.value)return;const s=u.value;s.innerText=n.block?`$$ ${n.latex} $$`:`$ ${n.latex} $`,B(s).catch(i=>console.warn(i))};return S(()=>n.latex,()=>{h()},{immediate:!0}),A(()=>h()),(s,i)=>(a(),l("span",{ref_key:"ContainerRef",ref:u},null,512))}});function I(t){t.component("MathJax",x)}typeof window<"u"&&window.Vue&&I(window.Vue);const N={props:["geturl","sendanswerurl"],components:{MathJax:x},data(){return{question:{},questions_count:0,answered:0,answer:"",loading:!1,click:new Audio("/sounds/quiz/click.mp3"),startSound:new Audio("/sounds/quiz/start.wav")}},created(){(this.answered=0)&&this.playStarSound(),this.getData()},methods:{playClick(){this.click.pause(),this.click.currentTime=0},playStarSound(){this.startSound.pause(),this.startSound.currentTime=0,this.startSound.play()},setAnswerAndSubmit(t){this.answer=t,this.submitAnswer()},submitAnswer(){this.answer==""?this.$swal({icon:"error",title:"Oops...",text:"You did not choos your answer."}):axios.post(this.sendanswerurl,{question_id:this.question.id,answer:this.answer}).then(t=>{this.getData(),this.answer=""}).catch(t=>{console.log(t)})},getData(){this.playClick(),this.loading=!0,axios.get(this.geturl).then(t=>{t.data.status=="done"?location.reload():(this.question=t.data.question,this.questions_count=t.data.questions_count,this.answered=t.data.answered,this.loading=!1,this.answer="")}).catch(t=>{console.log(t)})}}},r=t=>(j("data-v-2734a09c"),t=t(),P(),t),z={class:"bg-white",id:"main-body"},R=r(()=>e("br",null,null,-1)),F={class:"container-fluid"},L={class:"row"},Q={class:"col-md-8 col-md-offset-2"},U={class:"row"},E={class:"col-sm-6"},O=r(()=>e("br",null,null,-1)),Y={class:"col-sm-6 text-right mb-3"},$={class:"question-box"},G={class:"question-text"},H=["src"],K={class:"p-3",style:{padding:"15px"}},W=["id","value"],X=["onClick","for"],Z={key:1},tt=r(()=>e("br",null,null,-1)),et=r(()=>e("br",null,null,-1)),st={type:"submit",class:"btn-submit"},nt=r(()=>e("i",{class:"fa fa-spin fa-spinner"},null,-1));function ot(t,n,u,h,s,i){const g=M("math-jax");return a(),l("div",z,[R,e("div",F,[e("div",L,[e("div",Q,[e("div",null,[e("div",U,[e("div",E,[O,w(" Progress: "+p(s.answered)+"/"+p(s.questions_count),1)]),e("div",Y,[e("a",{href:"#",onClick:n[0]||(n[0]=m(o=>i.getData(),["prevent"])),class:"btn-skip"}," Skip Question")])]),e("div",$,[e("div",G,[(a(!0),l(f,null,v(s.question.images,o=>(a(),l("img",{style:{width:"30%"},src:"/"+o.source,key:o.id,alt:""},null,8,H))),128)),e("h3",null,[V(g,{latex:s.question.body},null,8,["latex"])])]),e("div",K,[s.question.type=="multiple"?(a(!0),l(f,{key:0},v(s.question.options,(o,c)=>(a(),l("div",{class:"quiz-choices",key:c},[d(e("input",{type:"radio",id:`choice-${c}`,"onUpdate:modelValue":n[1]||(n[1]=_=>s.answer=_),value:o},null,8,W),[[J,s.answer]]),e("label",{onClick:_=>i.setAnswerAndSubmit(c),for:`choice-${c}`},p(o),9,X)]))),128)):y("",!0),s.question.type=="subjective"?(a(),l("div",Z,[e("form",{onSubmit:n[3]||(n[3]=m((...o)=>i.submitAnswer&&i.submitAnswer(...o),["prevent"]))},[d(e("input",{type:"text",required:"","onUpdate:modelValue":n[2]||(n[2]=o=>s.answer=o),placeholder:"Put your answer here"},null,512),[[D,s.answer]]),tt,et,e("button",st,[d(e("span",null,[nt,w(" Loading.. ")],512),[[b,s.loading]]),d(e("span",null," Submit ",512),[[b,!s.loading]])])],32)])):y("",!0)])])])])])])])}const it=C(N,[["render",ot],["__scopeId","data-v-2734a09c"]]);T({components:{QuestionComponent:it}}).mount("#app");
